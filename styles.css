:root{
  --primary:#13795b; --primary-700:#0f634a;
  --bg:#f6fbf8; --card:#ffffff; --border:#d9efe5; --text:#0b1f17; --muted:#567a6c;
  --tab:#e7f6ef; --tab-text:#0b2e23; --radius:14px;
  --shadow:0 1px 2px rgba(0,0,0,.06), 0 6px 18px rgba(22,34,51,.06);
  --danger:#d11a2a;
}
@media (prefers-color-scheme: dark){
  :root{
    --primary:#29b17f; --primary-700:#1f8e66;
    --bg:#0c1411; --card:#111c18; --border:#1e2a26; --text:#eaf7f2; --muted:#a2c5b9;
    --tab:#0f231b; --tab-text:#e8fff7; --shadow:none; --danger:#ff6b7a;
  }
}
:root[data-theme="dark"]{
  --primary:#29b17f; --primary-700:#1f8e66;
  --bg:#0c1411; --card:#111c18; --border:#1e2a26; --text:#eaf7f2; --muted:#a2c5b9;
  --tab:#0f231b; --tab-text:#e8fff7; --shadow:none; --danger:#ff6b7a;
}

*{box-sizing:border-box}
html,body{height:100%}
body{font-family:system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  font-size:17px; line-height:1.4; margin:0; background:var(--bg); color:var(--text);
  padding-bottom: calc(56px + env(safe-area-inset-bottom));
}
header{display:flex;align-items:center;justify-content:space-between; padding:14px 16px;
  background:var(--primary); color:#fff; position:sticky; top:0; z-index:1000;}
.brand{display:flex; align-items:center; gap:10px}
.logo{color:#fff}
h1{font-size:20px;margin:0;font-weight:700;letter-spacing:.2px}
h2{font-size:18px;margin:8px 0 6px 0}
.hint{color:var(--muted); margin:0 0 8px 0; font-size:15px}

main{ padding:12px; padding-bottom:72px; }
.panel{ display:none; }
.panel.active{ display:block; }

.inline-form{ display:grid; gap:10px; align-items:center; grid-template-columns: repeat(4, minmax(130px,1fr)) auto; margin:10px 0; }
.inline-form.wide{ grid-template-columns: 1fr 1fr auto; }
@media (max-width: 600px){ .inline-form{ grid-template-columns: 1fr 1fr; } .inline-form.wide{ grid-template-columns: 1fr 1fr; } }
@media (max-width: 400px){ .inline-form, .inline-form.wide{ grid-template-columns: 1fr; } }
.inline-form input, .inline-form select, .inline-form button{ width:100%; }

input, select, button, .button{ font-size:17px; border-radius:12px; padding:12px 14px; border:1px solid var(--border); background:var(--card); color:var(--text); min-height:44px; }
select{ background:var(--card); }
button, .button{ background:var(--card); border:1px solid var(--border); }
button.primary{ background:var(--primary); color:#fff; border-color:var(--primary) }
button.primary:active{ background:var(--primary-700) }
button.danger{ border-color:var(--danger); color:var(--danger) }
button.danger:active{ background:rgba(209,26,42,0.1) }

.table-wrap{ background:var(--card); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); overflow:auto }
table{ width:100%; border-collapse:collapse }
th,td{ border-bottom:1px solid var(--border); padding:12px 10px; text-align:left; font-size:16px }
th{ background:rgba(0,0,0,.03); color:var(--text); position:sticky; top:0 }
@media (prefers-color-scheme: dark){ th{ background:rgba(255,255,255,.06); } }
tr:last-child td{ border-bottom:none }

.box{ background:var(--card); border:1px solid var(--border); border-radius:var(--radius); padding:12px; box-shadow:var(--shadow); white-space:pre-wrap; font-size:16px }
.cards{ display:grid; grid-template-columns:1fr; gap:12px }
@media (min-width:700px){ .cards{ grid-template-columns:1fr 1fr } }
.card{ background:var(--card); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); padding:12px }
.card h3{ margin:4px 0 8px 0 }
.rowline{ display:flex; justify-content:space-between; align-items:center; padding:6px 0; border-bottom:1px dashed var(--border) }
.rowline:last-child{ border-bottom:none }

.tabbar{
  position:fixed; bottom:0; left:0; right:0;
  background:var(--card); border-top:1px solid var(--border);
  display:flex; justify-content:space-around; gap:4px; padding:6px 6px calc(6px + env(safe-area-inset-bottom));
  z-index:1002;
}
.t{ display:flex; flex-direction:column; align-items:center; gap:2px; flex:1 1 auto;
  background:transparent; border:none; padding:6px 0; color:var(--muted); font-weight:600 }
.t span{ font-size:20px; line-height:20px }
.t small{ font-size:12px }
.t.active{ color:var(--primary) }

footer{ padding:10px 12px 70px; color:var(--muted) }
#installBtn{ background:#12a150; color:#fff; border:none; }
